---
interface Props {
  title: string;
  description?: string;
  ogImage?: string;
}

const { title, description = "Bold conversations with the people reimagining Australia's future.", ogImage = "/images/hero.png" } = Astro.props;
const canonicalURL = new URL(Astro.url.pathname, Astro.site ?? 'https://futureaupodcast.com.au');
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="canonical" href={canonicalURL.href} />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonicalURL.href} />
    <meta property="og:title" content={`${title} | Future AU`} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={ogImage} />
    <meta property="og:site_name" content="Future AU" />
    <meta property="og:locale" content="en_AU" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={`${title} | Future AU`} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={ogImage} />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <title>{title} | Future AU</title>
  </head>
  <body>
    <header class="header">
      <nav class="nav">
        <a href="/" class="nav-logo">
          FUTURE<span class="nav-logo-badge">AU</span>
        </a>
        <div class="nav-links" id="nav-links">
          <a href="#topics" class="nav-link">TOPICS</a>
          <a href="#host" class="nav-link">HOST</a>
          <a href="#contact" class="nav-link">CONTACT</a>
          <a href="#signup" class="nav-cta">NOTIFY ME</a>
        </div>
        <button class="nav-mobile-toggle" id="nav-toggle" aria-label="Toggle menu" aria-expanded="false">
          <svg class="icon-menu" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 6h16M4 12h16M4 18h16" />
          </svg>
          <svg class="icon-close" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none;">
            <path d="M18 6L6 18M6 6l12 12" />
          </svg>
        </button>
      </nav>
    </header>

    <main>
      <slot />
    </main>

    <footer class="footer">
      <div class="footer-content">
        <div class="footer-top">
          <a href="/" class="footer-logo">
            FUTURE<span class="footer-logo-badge">AU</span>
          </a>
          <nav class="footer-nav">
            <a href="#topics" class="footer-link">Topics</a>
            <a href="#host" class="footer-link">Host</a>
            <a href="#contact" class="footer-link">Contact</a>
          </nav>
          <div class="footer-social">
            <a href="https://www.linkedin.com/in/simon-j-murphy/" target="_blank" rel="noopener" class="footer-social-link" aria-label="LinkedIn">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
            </a>
          </div>
        </div>
        <div class="footer-bottom">
          <p class="footer-copyright">
            &copy; {new Date().getFullYear()} Future AU. All rights reserved.
          </p>
        </div>
      </div>
    </footer>

    <script>
      const toggle = document.getElementById('nav-toggle');
      const links = document.getElementById('nav-links');
      if (toggle && links) {
        toggle.addEventListener('click', () => {
          const expanded = toggle.getAttribute('aria-expanded') === 'true';
          toggle.setAttribute('aria-expanded', String(!expanded));
          links.classList.toggle('nav-links--open');
          const menuIcon = toggle.querySelector('.icon-menu') as HTMLElement;
          const closeIcon = toggle.querySelector('.icon-close') as HTMLElement;
          if (menuIcon && closeIcon) {
            menuIcon.style.display = expanded ? '' : 'none';
            closeIcon.style.display = expanded ? 'none' : '';
          }
        });

        links.querySelectorAll('a').forEach(link => {
          link.addEventListener('click', () => {
            links.classList.remove('nav-links--open');
            toggle.setAttribute('aria-expanded', 'false');
            const menuIcon = toggle.querySelector('.icon-menu') as HTMLElement;
            const closeIcon = toggle.querySelector('.icon-close') as HTMLElement;
            if (menuIcon && closeIcon) {
              menuIcon.style.display = '';
              closeIcon.style.display = 'none';
            }
          });
        });
      }
    </script>

    <style is:global>
      /* ===== RESET & BASE ===== */
      *, *::before, *::after {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: 'Space Grotesk', system-ui, sans-serif;
        background-color: #0a3a3a;
        color: #ffffff;
        min-height: 100vh;
        line-height: 1.5;
        -webkit-font-smoothing: antialiased;
      }

      img {
        max-width: 100%;
        display: block;
      }

      a {
        color: inherit;
        text-decoration: none;
      }

      button {
        font-family: inherit;
      }

      /* ===== HEADER ===== */
      .header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 100;
        background-color: #0a3a3a;
        border-bottom: 1px solid #156b6b;
      }

      .nav {
        max-width: 1200px;
        margin: 0 auto;
        padding: 16px 24px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .nav-logo {
        font-family: 'Bebas Neue', sans-serif;
        font-size: 28px;
        letter-spacing: 0.05em;
        color: #ffffff;
        display: flex;
        align-items: center;
      }

      .nav-logo-badge {
        background-color: #f5c518;
        color: #0a3a3a;
        padding: 2px 8px;
        margin-left: 4px;
      }

      .nav-links {
        display: flex;
        align-items: center;
        gap: 32px;
      }

      .nav-link {
        font-size: 12px;
        font-weight: 600;
        letter-spacing: 0.15em;
        color: #ffffff;
        transition: color 0.3s ease;
      }

      .nav-link:hover {
        color: #f5c518;
      }

      .nav-cta {
        font-size: 12px;
        font-weight: 700;
        letter-spacing: 0.1em;
        background-color: #f5c518;
        color: #0a3a3a;
        padding: 12px 20px;
        transition: background-color 0.3s ease;
      }

      .nav-cta:hover {
        background-color: #f7d04c;
      }

      .nav-mobile-toggle {
        display: none;
        background: none;
        border: none;
        color: #ffffff;
        cursor: pointer;
      }

      @media (max-width: 768px) {
        .nav-links {
          display: none;
          position: absolute;
          top: 100%;
          left: 0;
          right: 0;
          background-color: #0a3a3a;
          border-bottom: 1px solid #156b6b;
          flex-direction: column;
          padding: 16px 24px 24px;
          gap: 0;
        }

        .nav-links--open {
          display: flex;
        }

        .nav-links .nav-link,
        .nav-links .nav-cta {
          padding: 12px 0;
          display: block;
          text-align: left;
        }

        .nav-links .nav-cta {
          margin-top: 8px;
          padding: 12px 20px;
          text-align: center;
        }

        .nav-mobile-toggle {
          display: block;
        }
      }

      /* ===== FOOTER ===== */
      .footer {
        background-color: #0a3a3a;
        border-top: 4px solid #f5c518;
        padding: 48px 0 32px;
      }

      .footer-content {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 24px;
      }

      .footer-top {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 32px;
        flex-wrap: wrap;
        gap: 24px;
      }

      .footer-logo {
        font-family: 'Bebas Neue', sans-serif;
        font-size: 24px;
        letter-spacing: 0.05em;
        color: #ffffff;
        display: flex;
        align-items: center;
      }

      .footer-logo-badge {
        background-color: #f5c518;
        color: #0a3a3a;
        padding: 2px 8px;
        margin-left: 4px;
      }

      .footer-nav {
        display: flex;
        gap: 24px;
      }

      .footer-link {
        font-size: 14px;
        font-weight: 500;
        color: #7ab5b5;
        transition: color 0.3s ease;
      }

      .footer-link:hover {
        color: #f5c518;
      }

      .footer-social {
        display: flex;
        gap: 16px;
      }

      .footer-social-link {
        color: #7ab5b5;
        transition: color 0.3s ease;
        display: flex;
        align-items: center;
      }

      .footer-social-link:hover {
        color: #f5c518;
      }

      .footer-bottom {
        border-top: 1px solid #156b6b;
        padding-top: 24px;
      }

      .footer-copyright {
        font-size: 14px;
        font-weight: 500;
        color: #7ab5b5;
      }

      @media (max-width: 768px) {
        .footer-top {
          flex-direction: column;
          align-items: center;
          text-align: center;
        }

        .footer-bottom {
          text-align: center;
        }
      }
    </style>
  </body>
</html>
